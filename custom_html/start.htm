<!-- Copyright Epic Games, Inc. All Rights Reserved. -->
<!DOCTYPE HTML>
<html>
<head>
	<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
	<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
	<link type="text/css" rel="stylesheet" href="presistentui.css">
	<script type="text/javascript" src="scripts/communication.js"></script>
    <script type="text/javascript" src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
    <script type="text/javascript" src="scripts/webRtcPlayer.js"></script>
	<script type="text/javascript" src="scripts/app.js"></script>
</head>

<body onload="load();initGreenBranch()">
	<script>
		addResponseEventListener("handle_responses", eventReceiver)
		document.addEventListener("name-of-event", 	playerInitialization);
	</script>
	<div id="playerUI">
		
		<div class="Video"><div id="player"></div></div>

		<div class="ui">
			<div id="ui"></div>
			<div class="branch-row">
				<div class="branch-col ui-left">
					<div class="leaf leaf-top usercontainer">
					<!-- this part of the UI is always visible so no need fot a sector ID -->
							<div class="bgr">
								<div class="username">
									<p id="username"></p>
								</div>
								<!--
								<div class="userimg">
									<img src="https://picsum.photos/200">
								</div>
								-->
							</div>
					</div>
					<div class="leaf leaf-center">
						<div id="sector121" >
							<!-- not needed for the moment 
							<dl >
								<p class="headline">Fachbegriffe</p>
								<div class="term-container">
										<dt class="definitionterm">Term</dt>
										<dd class="definition">Definition asd ad asd asd asd asd asd asd </dd>
								</div>
							</dl>
							-->
						</div>
					</div>
					<div class="leaf leaf-bottom">
						<div id="sector131" >
							<!--
							<button onClick="">Download Class</button>
							-->
						</div>
					</div>
				</div>
				<div class="branch-col ui-center">
					<div class="leaf leaf-top center-top-container">
						<div id="sector211">	
							<!-- load in with function!
							<div class="tgb-container">
								<div class="top-container">
									<p>Wie kann ich dies und das berechnen?</p>
								</div>
								<div class="bottom-container">
									<p>@ Mr Mathe Schmitt</p>
								</div>
							</div>
							-->
						</div>
					</div>
					<div class="leaf leaf-center">
						<div id="sector221">
							<!--Sector ID should be 221 for consistency need to be change every wher it is in use
							<div id="inputusername" class="leaf leaf-center">
								<div class="username-container">
									<img src="logo-gb.svg">
									<h2 class="usernamelogin">Who is the User?</h2>
									<input type="text" value="Username" autofocus="true" id="PlayerNameTextArea"  name="Player Name" rows="4" cols="50">
									<button onClick="sendNewPlayerConnected()">Join</button>
								</div>
							</div>
							-->
						</div>
						<!--Tooltip is hidden with display none and called with function needs sector to be initialized (sector222)-->
						<div class="eva-tooltip" >
							<div class="tooltip-headline">
								<img src="eva.jpg">
							</div>
							<div class="tooltip-content">
								<p>
									Greetings dear Traveler, I'm EVA your Educational Virtual Assistent.
									I will guide you through this class and will be there when you need me.
								</p>
							</div>
							<!-- not needed for the moment 
							<div class="tooltip-btn">
								<button onClick="previouseTooltip(event ,1) ,">zur√ºck</button>
								<ul class="indicator-container">
									<li class="status open"></li>
									<li class="status "></li>
									<li class="status "></li>
									<li class="status "></li>
								</ul>
								<button onClick="nextTooltip(event , 2)">weiter</button>
							</div>
							-->
						</div>
					</div>
					<div class="leaf leaf-bottom">
						<!-- Button to spawn textarea-->
						
						<div id="sector231">	
							<!-- load in with function!			
							<div class="whiteboard">
								<div id="interactionbtn" onclick="showTextarea()" class="interaction-btn">
									<img src="action.svg">
								</div>
								<div class="textareacontainer">
									<textarea id="whiteboard" class="textarea-init" name="whiteboard" rows="4" cols="50">Schreiben Sie hier Ihre Frage...</textarea>
									<button id="whiteboardbtn" class="btn-init" onClick="getValueTextarea()" >Fragen</button>
								</div>
							</div>
							-->
						</div>
						
						<div id="sector232">
							<!-- load in with function!
							<div class="tgb-container">
								<div class="top-question">
									<p>Hier steht die Frage</p>
								</div>
								<div class="center-question">
									<ol class="orderedlist">
										<li>Lorem ipsum dolor sit amet, consetetur sadipscing elitr</li>
										<li>Lorem ipsum dolor sadipscing elitr</li>
										<li>Lorem ipsum dolor sit amet, consetetur </li>
										<li>Antwort</li>
									</ol>
								</div>
								<div class="bottom-question">
									<label class="radio">
										<input type="radio" name="question" value="1">
										<span><div>1</div></span>
									  </label>
									  <label class="radio">
										<input type="radio" name="question" value="2">
										<span><div>2</div></span>
									  </label>
									  <label class="radio">
										<input type="radio" name="question" value="3">
										<span><div>3</div></span>
									  </label>
									  <label class="radio">
										<input type="radio" name="question" value="4">
										<span><div>4</div></span>
									  </label>
								</div>
							</div>
						-->
						</div>	
					</div>
				</div>
				<div class="branch-col ui-right">
					<div class="leaf leaf-top eva-ui-container">
					<!-- this part of the UI is always visible so no need fot a sector ID -->
						<div id="eva" class="eva-container uie">
							<img src="EVA-Logo.svg"/>
						</div>
					</div>
					<div class="leaf leaf-center">
						<div id="sector321" >
							<!-- load in with function!
							<dl id="link-container" class="definitionlist">
								<p>Usefull Links</p>
								<div id="link-content" class="definitioncontainer">
									
								</div>
								<div class="container-close" ></div>
							</dl>
							-->
						</div>
					</div>
					<div class="leaf leaf-bottom">
					<!-- this part of the UI is always visible so no need fot a sector ID -->
						<div class="powerdby"><a href="http://www.thegreenbranch.de/" target="_blank">Powerd by The Green Branch</a></div>
						
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--
	<script>
		//Functions for GRID -Start- //
		
		/* window.addEventListener("DOMContentLoaded", setHeightContainer); */
		function setHeightContainer(){
			var screenheight = window.innerHeight;
			var powerdBy = document.getElementById("link-container");
			powerdBy.style.height = window.innerHeight - 160 + 'px';
		}
		
		window.addEventListener("resize", changeHeightpowerdBy);
		function changeHeightpowerdBy(){
			var screenheight = window.innerHeight;
			var powerdBy = document.getElementById("link-container");
			powerdBy.style.height = window.innerHeight - 155 + 'px';
		}

		//Functions for GRID -END- //


		//Functions init EVA -start- //
		const eva = document.getElementById("eva")
		window.addEventListener("DOMContentLoaded", initEva);
		function initEva(){
			eva.addEventListener("click", function(){
				var ui = document.getElementById("ui")

				if(ui.classList.contains("backdrop")){
					removehighlight(1);
				}else{
					createBackdrop();	
					evaTooltip()
					eva.classList.add("active-highlight")
				}
			});
		}
		//Functions init EVA -END- //


		function showTextarea(){
			document.getElementById("interactionbtn").remove();
			document.getElementById("whiteboard").classList.add("whiteboardtextarea","textarea-init")
			document.getElementById("whiteboardbtn").classList.add("whiteboardbutton","btn-init")
		}

		function evaTooltip(){
			var evatooltip = document.getElementsByClassName("eva-tooltip")
				evatooltip[0].style.display = "flex"
				evatooltip[0].style.opacity = "1"	
		}

		function removeEvaTooltip(){
			var evatooltip = document.getElementsByClassName("eva-tooltip")
				evatooltip[0].style.display = "none"
				evatooltip[0].style.opacity = "0"	
		}
		
		function previouseTooltip(event, index){
			addHighlight(index);
			removehighlight(index + 1 );
			console.log(event.target)
		}

		function nextTooltip(event, index){
			addHighlight(index);
			removehighlight(index - 1 );
			console.log(event.target)
		}

		function currentItem(){
			var items = document.getElementsByClassName("uie");
			var index = 0
			return items.item(index)
		}
		
	
		//Functions for Highlighting -Start- //
		function collectUiElements(){

			var allElementsThatCanBeHighlighted =  document.getElementsByClassName("uie")
			return allElementsThatCanBeHighlighted
		}

		// dummy JSON
		var data =[
			{"routingkey": "linklist", "title": "Entry1", "desc": "lorem ipsum", "link": "http://www.google.de", "state": "true"},
			{"routingkey": "linklist", "title": "Entry2", "desc": "lorem ipsum", "link": "http://www.google.de", "state": "false"},
			{"routingkey": "linklist", "title": "Entry3", "desc": "lorem ipsum", "link": "http://www.google.de", "state": "true"},
			{"routingkey": "linklist", "title": "Entry4", "desc": "lorem ipsum", "link": "http://www.google.de", "state": "false"},
			{"routingkey": "linklist", "title": "Entry5", "desc": "lorem ipsum", "link": "http://www.google.de", "state": "false"}
		]

		//var state = {"routingkey": "linklist", "active": "true"}


		//Open Container which includes List of Links
		function openLinkContainer(data){
			var screenheight = window.innerHeight;
			var powerdBy = document.getElementById("link-container");
			powerdBy.style.height = window.innerHeight - 160 + 'px';
			createLinklist(data);
		}
		//Create List of Links
		function createLinklist(data){
			container = document.getElementById("link-content")
			for(i=0; i < data.length; i++){
				var content = document.createElement("div");
				content.classList.add("flex-col", "uie");
				//Highlight Link
				if(data[i].state == "true"){
					content.classList.add("active-highlight");
					content.setAttribute("active", "true");
				}
				content.innerHTML = `
					<div class="definitiondivider ">
						<dt class="definitionterm">${data[i].title}</dt>
						<dd class="definition">${data[i].desc}</dd>
					</div>
					<a class="followup" href=${data[i].link} target="_blank">read more</a>
					`;
				container.appendChild(content);
			}
		}

		function addHighlight(selectedElement){
			collectUiElements()[selectedElement].classList.add("active-highlight");
		}
		
		function removehighlight(selectedElement){
			//removeBackdrop();
			collectUiElements()[selectedElement].classList.remove("active-highlight");
		}
		function createBackdrop(){
			uiBgr = document.getElementById("ui")
			uiBgr.classList.add("backdrop");
			//test remove will be replaced
			uiBgr.addEventListener("click", function(){
				removeBackdrop(event)
				removehighlight(0);
				removeEvaTooltip()
			});
		}
		function removeBackdrop(event){
			uiBgr = document.getElementById("ui")
			uiBgr.classList.remove("backdrop")
			
		};
		//Functions for Highlighting -END- //
		
	</script>
	-->
</body>
</html>
